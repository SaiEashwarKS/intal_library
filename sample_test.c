#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "intal.h"

static int absolute(int a)
{
    return a > 0 ? a : (-1 * a);
}

static char *strip(char *a)
{
    int offset = 0;
    while (a[offset] == '0')
    {
        ++offset;
    }
    int diff = absolute(strlen(a) - offset);
    printf("diff = %d\n", diff);
    //char* temp1 = (char*)malloc(sizeof(char)*(strlen(a)+1));
    char *temp = (char *)malloc(sizeof(char) * (diff + 1));
    for (int i = 0; i < diff; ++i)
    {
        temp[i] = a[i + offset];
        printf("temp[%d] = %c\n", i, temp[i]);
    }
    temp[diff] = '\0';
    for (int i = 0; i < diff; ++i)
    {
        printf("a[%d] = %c\n", i, a[i]);
    }

    return temp;
}

int main()
{
    int n = 12;
    char **a = (char **)malloc(n * sizeof(char *));
    for (int i = 0; i < n; i++)
    {
        a[i] = (char *)malloc(1001 * sizeof(char));
    }

    strcpy(a[0], "1234512345123451234512345");
    strcpy(a[1], "1234512345123451234512345");
    strcpy(a[2], "0");
    strcpy(a[3], "1234512345123451234512345");
    strcpy(a[4], "1234512345123451234512344");
    strcpy(a[5], "12");
    strcpy(a[6], "265252859812191058636308480000000");
    strcpy(a[7], "265252859812191058636308480000000");
    strcpy(a[8], "5432154321543215432154321");
    strcpy(a[9], "3");
    strcpy(a[10], "1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
    strcpy(a[11], "1230231922161117176931558813276752514640713895736833715766118029160058800614672948775360067838593459582429649254051804908512884180898236823585082482065348331234959350355845017413023320111360666922624728239756880416434478315693675013413090757208690376793296658810662941824493488451726505303712916005346747908623702673480919353936813105736620402352744776903840477883651100322409301983488363802930540482487909763484098253940728685132044408863734754271212592471778643949486688511721051561970432780747454823776808464180697103083861812184348565522740195796682622205511845512080552010310050255801589349645928001133745474220715013683413907542779063759833876101354235184245096670042160720629411581502371248008430447184842098610320580417992206662247328722122088513643683907670360209162653670641130936997002170500675501374723998766005827579300723253474890612250135171889174899079911291512399773872178519018229989376");

    intal_sort(a, n);
	printf("\nTest intal_sort PASSED only if the following sequence of %d intals are sorted in nondecreasing order.\n", n);
	for (int i = 0; i < n; i++) {
		printf("%s\n", a[i]);
	}
	printf("\n");

    int index1 = intal_binsearch(a, n, "1234512345123451234512345");
	if(1 == index1) {
		printf("Test intal_binsearch and probably intal_sort PASSED\n");
	} else {
		printf("Test intal_binsearch and probably intal_sort FAILED.\nYour answer: %d\nExpected answer: %d\n", index1, 1);
	}




}